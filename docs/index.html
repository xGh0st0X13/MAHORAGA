<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MAHORAGA — Open Source AI Trading Agent</title>
  <meta name="description" content="An open-source LLM-powered trading agent that monitors social sentiment and makes autonomous trading decisions. Runs 24/7 on Cloudflare Workers.">
  <link rel="canonical" href="https://mahoraga.dev/">

  <!-- Open Graph -->
  <meta property="og:title" content="MAHORAGA — Open Source AI Trading Agent">
  <meta property="og:description" content="An open-source LLM-powered trading agent that monitors social sentiment and makes autonomous trading decisions. Runs 24/7 on Cloudflare Workers.">
  <meta property="og:image" content="https://mahoraga.dev/og-image.png">
  <meta property="og:url" content="https://mahoraga.dev/">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="MAHORAGA">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="MAHORAGA — Open Source AI Trading Agent">
  <meta name="twitter:description" content="An open-source LLM-powered trading agent that monitors social sentiment and makes autonomous trading decisions.">
  <meta name="twitter:image" content="https://mahoraga.dev/og-image.png">
  <meta name="twitter:creator" content="@burcs">

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="/mahoraga.svg">
  <link rel="icon" type="image/png" sizes="32x32" href="/og-image.png">

  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link href="https://cdn.jsdelivr.net/npm/iosevka-webfont@14.0.0/iosevka.css" rel="stylesheet">
  <style>
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    :root {
      --bg: #fdfcfa;
      --bg-subtle: #f5f3ef;
      --border: #e8e4dd;
      --border-dark: #d9d4cb;
      --muted: #9a9488;
      --subtle: #6b655c;
      --text: #3d3a35;
      --bright: #1a1815;
      --accent: #2563eb;
      --accent-dim: #1d4ed8;
      --success: #16a34a;
      --warning: #ca8a04;
    }

    html {
      font-size: 14px;
    }

    body {
      font-family: 'Iosevka Web', 'Iosevka', monospace;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      line-height: 1.6;
      -webkit-font-smoothing: antialiased;
    }

    ::selection {
      background: var(--accent);
      color: white;
    }

    .container {
      max-width: 560px;
      margin: 0 auto;
      padding: 60px 24px 140px;
      position: relative;
    }

    .hero {
      text-align: center;
      margin-bottom: 64px;
    }

    .hero-graphic {
      margin-bottom: 24px;
      display: flex;
      justify-content: center;
    }

    .logo-spinner {
      width: 120px;
      height: 120px;
      opacity: 1;
      animation: clunkRotate 26s infinite;
      cursor: pointer;
      transition: transform 0.18s ease-out;
    }

    .logo-spinner.clicked {
      animation: none;
    }

    @keyframes clunkRotate {
      0% { transform: rotate(0deg); }
      0.7% { transform: rotate(45deg); }
      12.5% { transform: rotate(45deg); }
      13.2% { transform: rotate(90deg); }
      25% { transform: rotate(90deg); }
      25.7% { transform: rotate(135deg); }
      37.5% { transform: rotate(135deg); }
      38.2% { transform: rotate(180deg); }
      50% { transform: rotate(180deg); }
      50.7% { transform: rotate(225deg); }
      62.5% { transform: rotate(225deg); }
      63.2% { transform: rotate(270deg); }
      75% { transform: rotate(270deg); }
      75.7% { transform: rotate(315deg); }
      87.5% { transform: rotate(315deg); }
      88.2% { transform: rotate(360deg); }
      100% { transform: rotate(360deg); }
    }

    .logo {
      font-size: 24px;
      font-weight: 600;
      letter-spacing: 4px;
      text-transform: uppercase;
      color: var(--bright);
      margin-bottom: 8px;
    }

    .tagline {
      font-size: 13px;
      color: var(--subtle);
      max-width: 420px;
      margin: 0 auto;
      line-height: 1.7;
    }

    .install {
      margin-bottom: 64px;
      text-align: center;
    }

    .install-cmd {
      display: inline-flex;
      align-items: center;
      gap: 16px;
      background: var(--bg-subtle);
      border: 1px solid var(--border);
      padding: 16px 28px;
      font-size: 13px;
    }

    .install-cmd .prompt {
      color: var(--muted);
      user-select: none;
    }

    .install-cmd code {
      color: var(--bright);
      letter-spacing: 0.5px;
    }

    .copy-btn {
      background: none;
      border: none;
      color: var(--muted);
      cursor: pointer;
      padding: 2px;
      transition: color 0.15s;
      display: flex;
      position: relative;
      width: 14px;
      height: 14px;
    }

    .copy-btn:hover {
      color: var(--bright);
    }

    .copy-btn svg {
      width: 14px;
      height: 14px;
      position: absolute;
      top: 0;
      left: 0;
      transition: opacity 0.2s, transform 0.2s;
    }

    .copy-btn .icon-copy {
      opacity: 1;
      transform: scale(1);
    }

    .copy-btn .icon-check {
      opacity: 0;
      transform: scale(0.8);
    }

    .copy-btn.copied {
      color: var(--success);
    }

    .copy-btn.copied .icon-copy {
      opacity: 0;
      transform: scale(0.8);
    }

    .copy-btn.copied .icon-check {
      opacity: 1;
      transform: scale(1);
    }

    section {
      margin-bottom: 56px;
    }

    h2 {
      font-size: 10px;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 3px;
      color: var(--muted);
      margin-bottom: 20px;
      text-align: center;
    }

    .steps {
      border: 1px solid var(--border);
      background: white;
    }

    .step {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      padding: 14px 20px;
      border-bottom: 1px solid var(--border);
      gap: 20px;
    }

    .step:last-child {
      border-bottom: none;
    }

    .step-num {
      font-size: 11px;
      color: var(--accent);
      font-weight: 500;
      min-width: 20px;
    }

    .step-cmd {
      font-size: 12px;
      color: var(--bright);
      flex: 1;
    }

    .step-cmd .dim {
      color: var(--muted);
    }

    .step-desc {
      font-size: 11px;
      color: var(--subtle);
      text-align: right;
    }

    .features {
      border: 1px solid var(--border);
      background: white;
    }

    .feature {
      padding: 16px 20px;
      border-bottom: 1px solid var(--border);
    }

    .feature:last-child {
      border-bottom: none;
    }

    .feature-title {
      font-size: 12px;
      color: var(--bright);
      margin-bottom: 4px;
    }

    .feature-desc {
      font-size: 11px;
      color: var(--subtle);
      line-height: 1.6;
    }

    .faq {
      border: 1px solid var(--border);
      background: white;
    }

    .faq-item {
      border-bottom: 1px solid var(--border);
    }

    .faq-item:last-child {
      border-bottom: none;
    }

    .faq-q {
      width: 100%;
      background: none;
      border: none;
      padding: 16px 20px;
      font-family: inherit;
      font-size: 12px;
      color: var(--text);
      text-align: left;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: color 0.15s;
    }

    .faq-q:hover {
      color: var(--bright);
    }

    .faq-q::after {
      content: '+';
      font-size: 14px;
      color: var(--muted);
      transition: transform 0.2s;
    }

    .faq-item.open .faq-q::after {
      transform: rotate(45deg);
    }

    .faq-a {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }

    .faq-item.open .faq-a {
      max-height: 300px;
    }

    .faq-a-inner {
      padding: 0 20px 16px;
      font-size: 12px;
      color: var(--subtle);
      line-height: 1.7;
    }

    .faq-a-inner code {
      background: var(--bg-subtle);
      padding: 2px 6px;
      font-size: 11px;
    }

    .warning {
      background: #fef3c7;
      border: 1px solid #f59e0b;
      padding: 16px 20px;
      font-size: 12px;
      color: #92400e;
      line-height: 1.6;
      margin-bottom: 56px;
    }

    .warning strong {
      color: #78350f;
    }

    footer {
      text-align: center;
      padding-top: 48px;
      border-top: 1px solid var(--border);
    }

    .links {
      display: flex;
      justify-content: center;
      gap: 32px;
      margin-bottom: 24px;
    }

    .links a {
      color: var(--muted);
      text-decoration: none;
      font-size: 11px;
      letter-spacing: 1px;
      text-transform: uppercase;
      transition: color 0.15s;
    }

    .links a:hover {
      color: var(--bright);
    }

    .credit {
      font-size: 10px;
      color: var(--muted);
      letter-spacing: 0.5px;
    }

    .credit a {
      color: var(--subtle);
      text-decoration: none;
      transition: color 0.15s;
    }

    .credit a:hover {
      color: var(--accent);
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .hero { animation: fadeIn 0.8s ease-out; }
    .install { animation: fadeIn 0.8s ease-out 0.1s both; }
    .warning { animation: fadeIn 0.8s ease-out 0.2s both; }
    section:nth-of-type(1) { animation: fadeIn 0.8s ease-out 0.3s both; }
    section:nth-of-type(2) { animation: fadeIn 0.8s ease-out 0.4s both; }
    section:nth-of-type(3) { animation: fadeIn 0.8s ease-out 0.5s both; }
    footer { animation: fadeIn 0.8s ease-out 0.6s both; }

    .disclaimer {
      background: #111;
      color: #999;
      text-align: center;
      padding: 10px 16px;
      font-size: 11px;
      letter-spacing: 0.5px;
    }

    .screenshot {
      margin-bottom: 48px;
      text-align: center;
    }

    .screenshot img {
      max-width: 100%;
      border: 1px solid var(--border);
      box-shadow: 0 4px 24px rgba(0,0,0,0.08);
    }
  </style>

  <!-- Structured Data: SoftwareApplication -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "MAHORAGA",
    "description": "An open-source LLM-powered trading agent that monitors social sentiment and makes autonomous trading decisions using AI. Runs 24/7 on Cloudflare Workers.",
    "applicationCategory": "FinanceApplication",
    "operatingSystem": "Cloud (Cloudflare Workers)",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD"
    },
    "url": "https://mahoraga.dev",
    "codeRepository": "https://github.com/ygwyg/MAHORAGA",
    "author": {
      "@type": "Person",
      "name": "burcs",
      "url": "https://x.com/burcs"
    }
  }
  </script>

  <!-- Structured Data: FAQPage -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "What does the Mahoraga agent do?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "The agent monitors StockTwits for trending stocks, uses OpenAI to research each signal (looking for red flags and catalysts), then executes trades through Alpaca based on LLM confidence scores."
        }
      },
      {
        "@type": "Question",
        "name": "How does Mahoraga decide to buy?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "For each trending stock, the LLM analyzes: Is the sentiment justified? Is it too late? Any red flags? It returns BUY/SKIP/WAIT with a confidence score. Only signals with confidence >= 0.6 are executed."
        }
      },
      {
        "@type": "Question",
        "name": "How does Mahoraga decide to sell?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Three ways: (1) Stop-loss/take-profit rules, (2) LLM analyzes each position and recommends HOLD/SELL based on sentiment changes, (3) Manual close via dashboard or MCP tools."
        }
      },
      {
        "@type": "Question",
        "name": "What APIs do I need for Mahoraga?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Alpaca (free) for trading. OpenAI (~$0.50-2/day using gpt-4o-mini) for analysis. StockTwits is free and requires no API key."
        }
      },
      {
        "@type": "Question",
        "name": "Is my money safe with Mahoraga?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Start with paper trading (ALPACA_PAPER=true). The system has multiple safety layers: kill switch, position limits, daily loss limits, approval tokens, and no margin/shorting."
        }
      },
      {
        "@type": "Question",
        "name": "Can I customize the Mahoraga trading strategy?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Yes. Edit src/durable-objects/mahoraga-harness.ts - it has clearly marked sections with [CUSTOMIZABLE] tags for data sources and trading logic."
        }
      }
    ]
  }
  </script>
</head>
<body>
  <div class="disclaimer">For educational purposes only. Trading involves substantial risk of loss. Not financial advice.</div>

  <div class="container">
    <header class="hero">
      <div class="hero-graphic">
        <img src="mahoraga.svg" alt="Mahoraga" class="logo-spinner">
      </div>
      <h1 class="logo">Mahoraga</h1>
      <p class="tagline">An LLM-powered trading agent that adapts to social sentiment and makes trading decisions using AI. Run locally or deploy to Cloudflare for 24/7 operation.</p>
    </header>

    <div class="install">
      <div class="install-cmd">
        <span class="prompt">$</span>
        <code>git clone https://github.com/ygwyg/MAHORAGA.git</code>
        <button class="copy-btn" title="Copy">
          <svg class="icon-copy" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
            <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
          </svg>
          <svg class="icon-check" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
        </button>
      </div>
    </div>

    <div class="screenshot">
      <img src="dashboard.png" alt="Mahoraga Dashboard showing portfolio positions, trading signals, and AI analysis activity" width="800" height="500" loading="lazy">
    </div>

    <div class="warning">
      <strong>Paper trading only.</strong> This software is for educational purposes. Always start with <code>ALPACA_PAPER=true</code>. Trading involves substantial risk of loss.
    </div>

    <section>
      <h2>Quick Start</h2>
      <div class="steps">
        <div class="step">
          <span class="step-num">1</span>
          <span class="step-cmd">npm install</span>
          <span class="step-desc">install dependencies</span>
        </div>
        <div class="step">
          <span class="step-num">2</span>
          <span class="step-cmd">cp .env.example .dev.vars</span>
          <span class="step-desc">create config file</span>
        </div>
        <div class="step">
          <span class="step-num">3</span>
          <span class="step-cmd"><span class="dim"># edit .dev.vars with API keys + tokens</span></span>
          <span class="step-desc">see getting-started</span>
        </div>
        <div class="step">
          <span class="step-num">4</span>
          <span class="step-cmd">npx wrangler dev</span>
          <span class="step-desc">start local server</span>
        </div>
        <div class="step">
          <span class="step-num">5</span>
          <span class="step-cmd">curl -H "Authorization: Bearer $TOKEN" ...</span>
          <span class="step-desc">enable the agent</span>
        </div>
        <div class="step">
          <span class="step-num">6</span>
          <span class="step-cmd">cd dashboard && npm run dev</span>
          <span class="step-desc">open dashboard</span>
        </div>
      </div>
    </section>

    <section>
      <h2>How It Works</h2>
      <div class="features">
        <div class="feature">
          <div class="feature-title">The Harness</div>
          <div class="feature-desc">A Cloudflare Durable Object that runs 24/7. Persistent state, crypto trading, no local machine required. <a href="./harness.html">Customization guide →</a></div>
        </div>
      </div>
    </section>

    <section>
      <h2>Features</h2>
      <div class="features">
        <div class="feature">
          <div class="feature-title">LLM-Powered Analysis</div>
          <div class="feature-desc">OpenAI evaluates signals and decides what to buy/sell. Each signal is researched for red flags and catalysts.</div>
        </div>
        <div class="feature">
          <div class="feature-title">Multi-Source Sentiment</div>
          <div class="feature-desc">StockTwits, Reddit (4 subreddits), and optional Twitter confirmation. Weighted by source reliability.</div>
        </div>
        <div class="feature">
          <div class="feature-title">Crypto Trading (Harness)</div>
          <div class="feature-desc">Trade BTC, ETH, SOL 24/7 with momentum-based signals. No market hours restrictions.</div>
        </div>
        <div class="feature">
          <div class="feature-title">Secure by Default</div>
          <div class="feature-desc">All API endpoints require Bearer token auth. Optional Cloudflare Access for SSO/email verification. Separate kill switch secret.</div>
        </div>
        <div class="feature">
          <div class="feature-title">Real-Time Dashboard</div>
          <div class="feature-desc">Monitor positions, signals, research decisions, and LLM costs. Works with both Node agent and Harness.</div>
        </div>
        <div class="feature">
          <div class="feature-title">Fully Customizable</div>
          <div class="feature-desc">Add your own data sources, modify LLM prompts, change trading logic. Well-documented with [TUNE] and [CUSTOMIZABLE] markers.</div>
        </div>
      </div>
    </section>

    <section>
      <h2>How It Works</h2>
      <div class="faq">
        <div class="faq-item">
          <button class="faq-q">What does the agent do?</button>
          <div class="faq-a">
            <div class="faq-a-inner">The agent monitors StockTwits for trending stocks, uses OpenAI to research each signal (looking for red flags and catalysts), then executes trades through Alpaca based on LLM confidence scores.</div>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-q">How does it decide to buy?</button>
          <div class="faq-a">
            <div class="faq-a-inner">For each trending stock, the LLM analyzes: Is the sentiment justified? Is it too late? Any red flags? It returns BUY/SKIP/WAIT with a confidence score. Only signals with confidence >= 0.6 are executed.</div>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-q">How does it decide to sell?</button>
          <div class="faq-a">
            <div class="faq-a-inner">Three ways: (1) Stop-loss/take-profit rules, (2) LLM analyzes each position and recommends HOLD/SELL based on sentiment changes, (3) Manual close via dashboard or MCP tools.</div>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-q">What APIs do I need?</button>
          <div class="faq-a">
            <div class="faq-a-inner"><strong>Alpaca</strong> (free) for trading. <strong>OpenAI</strong> (~$0.50-2/day using gpt-4o-mini) for analysis. <strong>StockTwits</strong> is free and requires no API key.</div>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-q">Is my money safe?</button>
          <div class="faq-a">
            <div class="faq-a-inner">Start with paper trading (<code>ALPACA_PAPER=true</code>). The system has multiple safety layers: kill switch, position limits, daily loss limits, approval tokens, and no margin/shorting.</div>
          </div>
        </div>
        <div class="faq-item">
          <button class="faq-q">Can I customize the strategy?</button>
          <div class="faq-a">
            <div class="faq-a-inner">Yes. Edit <code>src/durable-objects/mahoraga-harness.ts</code> - it has clearly marked sections with <code>[CUSTOMIZABLE]</code> tags for data sources and trading logic. See the <a href="./harness.html">Harness docs</a> for details.</div>
          </div>
        </div>
      </div>
    </section>

    <footer>
      <div class="links">
        <a href="https://github.com/ygwyg/MAHORAGA">GitHub</a>
        <a href="https://discord.gg/Ys8KpsW5NN">Discord</a>
        <a href="./getting-started.html">Getting Started</a>
        <a href="./harness.html">Harness</a>
        <a href="./configuration.html">Config</a>
      </div>
      <p class="credit">by <a href="https://x.com/burcs">@burcs</a></p>
    </footer>
  </div>

  <script>
    document.querySelectorAll('.faq-q').forEach(btn => {
      btn.addEventListener('click', () => {
        btn.parentElement.classList.toggle('open');
      });
    });

    const copyBtn = document.querySelector('.copy-btn');
    copyBtn.addEventListener('click', async () => {
      await navigator.clipboard.writeText('git clone https://github.com/ygwyg/MAHORAGA.git');
      copyBtn.classList.add('copied');
      setTimeout(() => {
        copyBtn.classList.remove('copied');
      }, 2000);
    });

    const logo = document.querySelector('.logo-spinner');
    let rotation = 0;
    logo.addEventListener('click', () => {
      logo.classList.add('clicked');
      rotation += 45;
      logo.style.transform = `rotate(${rotation}deg)`;
    });
  </script>
</body>
</html>
